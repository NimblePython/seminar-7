# Краткая справка по основным типам и методам библиотеки SFML, которые, вероятно, будут использоваться в вашей программе

## Классы библиотеки SFML

### 1. **sf::RenderWindow**

- **Описание**: Класс для создания и управления окном. Используется для отображения графики и обработки событий.
- **Методы**:
    - `pollEvent(sf::Event&)`: Проверяет события (например, нажатие клавиш, закрытие окна).
    - `clear(sf::Color)`: Очищает содержимое окна (обычно перед рисованием).
    - `draw(const Drawable&)`: Отрисовывает объект (любой объект, который наследуется от `sf::Drawable`).
    - `display()`: Отображает нарисованные объекты на экране.

### 2. **sf::FloatRect**

- **Описание**: Прямоугольник, представленный в виде плавающих чисел. Используется для представления границ объектов.
- **Свойства**:
    - `left`, `top`, `width`, `height`: Координаты и размеры прямоугольника.
    - Пример: Используется для проверки пересечений и позиционирования объектов в пространстве.

### 3. **sf::RectangleShape**

- **Описание**: Класс для рисования прямоугольников.
- **Методы**:
    - `setSize(const sf::Vector2f&)`: Устанавливает размеры прямоугольника.
    - `setPosition(float x, float y)`: Устанавливает позицию.
    - `setFillColor(const sf::Color&)`: Устанавливает цвет заливки.
    - `getGlobalBounds()`: Возвращает границы прямоугольника в виде `sf::FloatRect`.

### 4. **sf::CircleShape**

- **Описание**: Класс для рисования окружностей.
- **Методы**:
    - `setRadius(float radius)`: Устанавливает радиус круга.
    - `setPosition(float x, float y)`: Устанавливает позицию.
    - `setFillColor(const sf::Color&)`: Устанавливает цвет заливки.
    - `getGlobalBounds()`: Возвращает границы круга.

### 5. **sf::Vertex**

- **Описание**: Представляет вершину (точку) в двухмерном пространстве с дополнительной информацией, такой как цвет.
- **Конструктор**:
    - `sf::Vertex(const sf::Vector2f& position, const sf::Color& color)`: Создает вершину с указанной позицией и цветом.
- Пример: Используется для создания линий и других графических примитивов.

### 6. **sf::Color**

- **Описание**: Класс для задания цвета.
- **Примеры цветов**: `sf::Color::Black`, `sf::Color::Red`, `sf::Color::Green`, `sf::Color::Blue`.

### 7. **sf::Vector2f**

- **Описание**: Класс для представления двумерных векторов с плавающей запятой.
- Пример: Используется для представления позиции, размеров и перемещений объектов.

### 8. **sf::Text**

- **Описание**: Класс для отображения текста.
- **Методы**:
    - `setFont(const sf::Font&)`: Устанавливает шрифт для текста.
    - `setString(const std::string&)`: Устанавливает текст.
    - `setCharacterSize(unsigned int)`: Устанавливает размер шрифта.
    - `setPosition(float x, float y)`: Устанавливает позицию текста.
    - `setFillColor(const sf::Color&)`: Устанавливает цвет текста.

### 9. **sf::Font**

- **Описание**: Класс для загрузки и хранения шрифтов.
- **Метод**:
    - `loadFromFile(const std::string&)`: Загружает шрифт из файла.

### 10. **sf::Event**

- **Описание**: Представляет событие, которое может происходить в окне (например, нажатие клавиш или закрытие окна).
- **Используемые события**:
    - `sf::Event::Closed`: Событие закрытия окна.
    - `sf::Event::MouseButtonPressed`: Событие нажатия кнопки мыши.
    - `sf::Event::MouseButtonReleased`: Событие отпускания кнопки мыши.
    - `sf::Event::KeyPressed`: Событие нажатия клавиши.

### 11. **sf::Mouse**

- **Описание**: Класс для работы с состоянием мыши.
- **Методы**:
    - `getPosition(const sf::RenderWindow&)`: Возвращает текущую позицию мыши относительно окна.

### 12. **sf::Keyboard**

- **Описание**: Класс для работы с клавиатурными вводами.
- **Используемые коды клавиш**:
    - `sf::Keyboard::Num1`, `sf::Keyboard::Num2`, и т.д.: Коды клавиш для цифр на клавиатуре.

## Методы библиотеки SFML

### 1. **Создание окна**

Для создания окна используется класс `sf::RenderWindow`. Он позволяет создавать и управлять окнами, а также рисовать на них графику.

**Пример создания окна**:

```cpp
sf::RenderWindow window(sf::VideoMode(800, 600), "SFML Window");
```

**Основные параметры**:

- `sf::VideoMode`: задает разрешение окна, количество бит на пиксель.
- Название окна (в виде строки).

### 2. **Цикл обработки событий**

Основная часть программы, которая работает с окнами SFML, состоит из цикла событий, обеспечивающего обновление окна и взаимодействие с пользователем.

**Пример**:

```cpp
while (window.isOpen()) {
    sf::Event event;
    while (window.pollEvent(event)) {
        if (event.type == sf::Event::Closed)
            window.close();
    }
}
```

### 3. **Класс `sf::Event` и обработка событий**

SFML использует класс `sf::Event` для обработки событий, таких как нажатия клавиш, движения мыши и закрытие окна.

**Пример работы с событиями**:

```cpp
if (event.type == sf::Event::Closed)
    window.close();
```

**Типы событий**:
- `sf::Event::Closed`: закрытие окна.
- `sf::Event::Resized`: изменение размера окна.
- `sf::Event::KeyPressed`: нажатие клавиши на клавиатуре.
- `sf::Event::MouseMoved`: движение мыши.
- `sf::Event::MouseButtonPressed`: нажатие кнопки мыши.
- Другие события можно найти в документации SFML.

### 4. **Метод `clear`**

Метод `clear` очищает окно перед отрисовкой нового кадра. Обычно используется в начале каждого кадра.

**Пример**:

```cpp
window.clear();
```

#### 5. **Метод `display`**

Этот метод выводит на экран всё, что было нарисовано с момента последнего вызова `clear`. Он используется для завершения кадра.

**Пример**:

```cpp
window.display();
```

### 6. **Методы `mapPixelToCoords` и `mapCoordsToPixel`**

- **`mapPixelToCoords`**: Преобразует координаты в пикселях (например, позиции мыши) в координаты сцены, учитывая текущий вид.

    **Пример**:

    ```cpp
    sf::Vector2i pixelPos = sf::Mouse::getPosition(window);
    sf::Vector2f worldPos = window.mapPixelToCoords(pixelPos);
    ```

- **`mapCoordsToPixel`**: Преобразует координаты сцены в координаты пикселей.

    **Пример**:

    ```cpp
    sf::Vector2f worldPos(100.f, 100.f);
    sf::Vector2i pixelPos = window.mapCoordsToPixel(worldPos);
    ```

#### 7. **Методы `setView` и `getView`**

Эти методы позволяют устанавливать и получать текущий вид (камеру) окна. Вид определяет область, которая отображается в окне.

**Пример**:

```cpp
sf::View view(sf::FloatRect(0.f, 0.f, 800.f, 600.f));
window.setView(view);
sf::View currentView = window.getView();
```

### 8. **Метод `setFramerateLimit`**

Этот метод ограничивает частоту кадров окна для управления производительностью.

**Пример**:

```cpp
window.setFramerateLimit(60);
```

### 9. **Методы управления курсором мыши**

SFML предоставляет методы для управления видимостью, захватом и заменой курсора мыши.

- **`setMouseCursorVisible(bool visible)`**: Показывать или скрывать курсор.
- **`setMouseCursorGrabbed(bool grabbed)`**: Захватывать курсор внутри окна.
- **`setMouseCursor(sf::Cursor& cursor)`**: Установить пользовательский курсор.

**Пример**:

```cpp
window.setMouseCursorVisible(false); // Скрыть курсор
window.setMouseCursorGrabbed(true);  // Захватить курсор в окне
   ```

### 10. **Метод `getSize`**

Возвращает размеры окна в пикселях.

**Пример**:

```cpp
sf::Vector2u windowSize = window.getSize();
```

### 11. **Методы для работы с фокусом окна**

- **`hasFocus()`**: Возвращает `true`, если окно в фокусе.
- **`setActive(bool active = true)`**: Активирует или деактивирует контекст окна (используется для OpenGL).

**Пример**:

```cpp
if (window.hasFocus()) {
    // Взаимодействие с окном
}
```

## Скелет итоговой программы

```cpp
    while (window.isOpen()) {
        sf::Event event;
        while (window.pollEvent(event)) {
            if (event.type == sf::Event::Closed)
                window.close();

            // Выбор режима рисования

            // Событие начала рисования
 
            // Событие окончания рисования или перемещения
        }

        // Рисуем фигуру (объект) в зависимости от выбранного инструмента

        // Перемещение объекта в режиме выбора

        // Очистка окна

        // Отрисовка всех фигур в окне

        // Если объект выделен, рисуем пунктирный прямоугольник вокруг него

        // Отображаем буффер с нарисованными объектами на экране
    }

    // Удаление всех фигур при завершении

    return 0;
}
```
